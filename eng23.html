<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×ª×¨×’×•×œ ×©×™×—×•×ª ×‘×× ×’×œ×™×ª - ×’×™×œ××™ 8-10</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .instruction-box {
            background: #d1ecf1;
            border: 2px solid #17a2b8;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .instruction-box h3 {
            color: #0c5460;
            margin-bottom: 10px;
            font-size: 1.5em;
        }

        .instruction-box p {
            color: #0c5460;
            font-size: 1.2em;
            line-height: 1.6;
        }

        .situations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .situation-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .situation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
        }

        .situation-emoji {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .situation-title {
            color: white;
            font-size: 1.3em;
            font-weight: bold;
        }

        .conversation-screen {
            display: none;
        }

        .conversation-screen.active {
            display: block;
        }

        .conversation-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .conversation-header h2 {
            color: white;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .conversation-header p {
            color: white;
            font-size: 1.3em;
            opacity: 0.9;
        }

        .chat-box {
            background: #f5f5f5;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            min-height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .chat-bubble {
            padding: 20px 30px;
            border-radius: 20px;
            margin: 15px 0;
            font-size: 1.6em;
            max-width: 80%;
            animation: slideIn 0.5s ease-out;
            direction: ltr;
            text-align: left;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-bubble.other {
            background: white;
            color: #333;
            align-self: flex-start;
            border: 3px solid #667eea;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .chat-bubble.me {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            align-self: flex-end;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .progress-bar {
            background: #e0e0e0;
            height: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 20px 40px;
            font-size: 1.5em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn-listen {
            background: #2196F3;
            color: white;
        }

        .btn-listen:hover {
            background: #0b7dda;
            transform: translateY(-2px);
        }

        .btn-continue {
            background: #4CAF50;
            color: white;
            font-size: 2em;
            padding: 25px 50px;
        }

        .btn-continue:hover {
            background: #45a049;
            transform: scale(1.05);
        }

        .btn-back {
            background: #ff9800;
            color: white;
        }

        .btn-back:hover {
            background: #e68900;
            transform: translateY(-2px);
        }

        .completion-screen {
            text-align: center;
            padding: 40px;
        }

        .completion-screen h2 {
            font-size: 3em;
            color: #667eea;
            margin: 20px 0;
        }

        .completion-emoji {
            font-size: 8em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2em;
            }

            .chat-bubble {
                font-size: 1.3em;
                padding: 15px 20px;
            }

            .situations-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ’¬ ×ª×¨×’×•×œ ×©×™×—×•×ª ×‘×× ×’×œ×™×ª ğŸ’¬</h1>
        <p class="subtitle">×©×™×—×•×ª ××ª×§×“××•×ª - ×’×™×œ××™ 8-10</p>

        <!-- ××¡×š ×‘×—×™×¨×ª ×¡×™×˜×•××¦×™×” -->
        <div id="selectionScreen">
            <div class="instruction-box">
                <h3>ğŸ¯ ×‘×•× × ×ª×¨×’×œ ×©×™×—×•×ª ××ª×§×“××•×ª ×‘×× ×’×œ×™×ª!</h3>
                <p>
                    ×‘×—×¨/×™ ×¡×™×˜×•××¦×™×” ×•×ª×ª×—×™×œ ×©×™×—×” ğŸ¤<br>
                    ×ª×©××¢/×™ ×©××œ×” â†’ ×ª×¢× ×”/×™ ×‘×§×•×œ ×¨× â†’ ×”×”×•×¨×” ×œ×•×—×¥ âœ…
                </p>
            </div>

            <div class="situations-grid" id="situationsGrid"></div>
        </div>

        <!-- ××¡×š ×©×™×—×” -->
        <div id="conversationScreen" class="conversation-screen">
            <div class="conversation-header">
                <h2 id="conversationTitle"></h2>
                <p id="conversationSubtitle">×©×™×—×” ××ª×§×“××ª ×‘×× ×’×œ×™×ª</p>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>

            <div class="chat-box" id="chatBox"></div>

            <div class="controls">
                <button class="btn-listen" onclick="playCurrentLine()">ğŸ”Š ×©××¢ ×©×•×‘</button>
                <button class="btn-continue" onclick="nextLine()">âœ… ×”××©×š</button>
                <button class="btn-back" onclick="backToSelection()">ğŸ”™ ×—×–×•×¨ ×œ×‘×—×™×¨×”</button>
            </div>
        </div>
    </div>

    <script>
        // ×¡×™×˜×•××¦×™×•×ª ×©×™×—×” ××ª×§×“××•×ª
        const situations = [
            {
                emoji: 'ğŸ‘‹',
                title: '×”×™×›×¨×•×ª ××¤×•×¨×˜×ª',
                subtitle: '××¦×™×’×™× ××ª ×¢×¦×× ×• ×‘×¤×™×¨×•×˜',
                conversation: [
                    { speaker: 'other', text: 'Hello! What is your name?', hebrew: '×©×œ×•×! ××” ×©××š?' },
                    { speaker: 'me', text: 'My name is David. Nice to meet you!', hebrew: '×©××™ ×“×•×“. × ×¢×™× ×œ×”×›×™×¨!' },
                    { speaker: 'other', text: 'Nice to meet you too! How old are you?', hebrew: '×’× ×œ×™ × ×¢×™× ×œ×”×›×™×¨! ×‘×Ÿ ×›××” ××ª×”?' },
                    { speaker: 'me', text: 'I am nine years old', hebrew: '×× ×™ ×‘×Ÿ ×ª×©×¢' },
                    { speaker: 'other', text: 'Where do you live?', hebrew: '××™×¤×” ××ª×” ×’×¨?' },
                    { speaker: 'me', text: 'I live in Tel Aviv', hebrew: '×× ×™ ×’×¨ ×‘×ª×œ ××‘×™×‘' },
                    { speaker: 'other', text: 'That\'s great! Do you like it there?', hebrew: '×–×” × ×”×“×¨! ××ª×” ××•×”×‘ ×©×?' },
                    { speaker: 'me', text: 'Yes! I love living in Tel Aviv!', hebrew: '×›×Ÿ! ×× ×™ ××•×”×‘ ×œ×’×•×¨ ×‘×ª×œ ××‘×™×‘!' }
                ]
            },
            {
                emoji: 'ğŸ«',
                title: '×‘×‘×™×ª ×”×¡×¤×¨',
                subtitle: '××“×‘×¨×™× ×¢×œ ×œ×™××•×“×™×',
                conversation: [
                    { speaker: 'other', text: 'What grade are you in?', hebrew: '×‘××™×–×• ×›×™×ª×” ××ª×”?' },
                    { speaker: 'me', text: 'I am in third grade', hebrew: '×× ×™ ×‘×›×™×ª×” ×’×³' },
                    { speaker: 'other', text: 'What is your favorite subject?', hebrew: '××” ×”××§×¦×•×¢ ×”××”×•×‘ ×¢×œ×™×š?' },
                    { speaker: 'me', text: 'My favorite subject is math', hebrew: '×”××§×¦×•×¢ ×”××”×•×‘ ×¢×œ×™×™ ×”×•× ××ª××˜×™×§×”' },
                    { speaker: 'other', text: 'That\'s wonderful! Why do you like math?', hebrew: '×–×” × ×¤×œ×! ×œ××” ××ª×” ××•×”×‘ ××ª××˜×™×§×”?' },
                    { speaker: 'me', text: 'Because I like solving problems', hebrew: '×›×™ ×× ×™ ××•×”×‘ ×œ×¤×ª×•×¨ ×‘×¢×™×•×ª' },
                    { speaker: 'other', text: 'Do you do your homework every day?', hebrew: '××ª×” ×¢×•×©×” ×©×™×¢×•×¨×™ ×‘×™×ª ×›×œ ×™×•×?' },
                    { speaker: 'me', text: 'Yes, I do my homework after school', hebrew: '×›×Ÿ, ×× ×™ ×¢×•×©×” ×©×™×¢×•×¨×™ ×‘×™×ª ××—×¨×™ ×‘×™×ª ×”×¡×¤×¨' }
                ]
            },
            {
                emoji: 'ğŸ”',
                title: '×‘××¡×¢×“×”',
                subtitle: '××–××™× ×™× ××•×›×œ',
                conversation: [
                    { speaker: 'other', text: 'Welcome! What would you like to order?', hebrew: '×‘×¨×•×›×™× ×”×‘××™×! ××” ×ª×¨×¦×• ×œ×”×–××™×Ÿ?' },
                    { speaker: 'me', text: 'I would like a burger, please', hebrew: '×× ×™ ×¨×•×¦×” ×”××‘×•×¨×’×¨, ×‘×‘×§×©×”' },
                    { speaker: 'other', text: 'Would you like fries with that?', hebrew: '×ª×¨×¦×” ×¦\'×™×¤×¡ ×¢× ×–×”?' },
                    { speaker: 'me', text: 'Yes, please. And a cola', hebrew: '×›×Ÿ, ×‘×‘×§×©×”. ×•×§×•×œ×”' },
                    { speaker: 'other', text: 'Anything else?', hebrew: '××©×”×• × ×•×¡×£?' },
                    { speaker: 'me', text: 'No, that\'s all. Thank you!', hebrew: '×œ×, ×–×” ×”×›×•×œ. ×ª×•×“×”!' },
                    { speaker: 'other', text: 'Your total is 50 shekels', hebrew: '×”×¡×›×•× ×”×›×•×œ×œ ×”×•× 50 ×©×§×œ×™×' },
                    { speaker: 'me', text: 'Here you go. Thank you!', hebrew: '×”× ×”. ×ª×•×“×”!' }
                ]
            },
            {
                emoji: 'ğŸ‘«',
                title: '×¢× ×—×‘×¨×™×',
                subtitle: '××ª×›× × ×™× ×¤×¢×™×œ×•×ª',
                conversation: [
                    { speaker: 'other', text: 'Hi! Do you want to play with me?', hebrew: '×”×™×™! ×ª×¨×¦×” ×œ×©×—×§ ××™×ª×™?' },
                    { speaker: 'me', text: 'Sure! What do you want to play?', hebrew: '×‘×˜×—! ×‘××” ×ª×¨×¦×” ×œ×©×—×§?' },
                    { speaker: 'other', text: 'Let\'s play soccer in the park!', hebrew: '×‘×•× × ×©×—×§ ×›×“×•×¨×’×œ ×‘×¤××¨×§!' },
                    { speaker: 'me', text: 'That sounds fun! When?', hebrew: '×–×” × ×©××¢ ×›×™×£! ××ª×™?' },
                    { speaker: 'other', text: 'How about tomorrow at 4 o\'clock?', hebrew: '××” ×“×¢×ª×š ××—×¨ ×‘××¨×‘×¢?' },
                    { speaker: 'me', text: 'Perfect! I will be there!', hebrew: '××•×©×œ×! ×× ×™ ××”×™×” ×©×!' },
                    { speaker: 'other', text: 'Great! See you tomorrow!', hebrew: '× ×”×“×¨! × ×ª×¨××” ××—×¨!' },
                    { speaker: 'me', text: 'See you! Bye!', hebrew: '× ×ª×¨××”! ×‘×™×™!' }
                ]
            },
            {
                emoji: 'ğŸ®',
                title: '×ª×—×‘×™×‘×™×',
                subtitle: '××“×‘×¨×™× ×¢×œ ×ª×—×‘×™×‘×™×',
                conversation: [
                    { speaker: 'other', text: 'What do you like to do in your free time?', hebrew: '××” ××ª×” ××•×”×‘ ×œ×¢×©×•×ª ×‘×–××Ÿ ×”×¤× ×•×™?' },
                    { speaker: 'me', text: 'I like to play video games and read books', hebrew: '×× ×™ ××•×”×‘ ×œ×©×—×§ ××©×—×§×™ ×•×™×“××• ×•×œ×§×¨×•× ×¡×¤×¨×™×' },
                    { speaker: 'other', text: 'What kind of books do you like?', hebrew: '××™×–×” ×¡×•×’ ×©×œ ×¡×¤×¨×™× ××ª×” ××•×”×‘?' },
                    { speaker: 'me', text: 'I like adventure stories', hebrew: '×× ×™ ××•×”×‘ ×¡×™×¤×•×¨×™ ×”×¨×¤×ª×§××•×ª' },
                    { speaker: 'other', text: 'Do you play any sports?', hebrew: '××ª×” ××©×—×§ ××™×–×” ×¡×¤×•×¨×˜?' },
                    { speaker: 'me', text: 'Yes, I play basketball twice a week', hebrew: '×›×Ÿ, ×× ×™ ××©×—×§ ×›×“×•×¨×¡×œ ×¤×¢××™×™× ×‘×©×‘×•×¢' },
                    { speaker: 'other', text: 'That\'s awesome! You must be very active!', hebrew: '×–×” ××“×”×™×! ××ª×” ×‘×˜×— ×××•×“ ×¤×¢×™×œ!' },
                    { speaker: 'me', text: 'Yes! I love being active!', hebrew: '×›×Ÿ! ×× ×™ ××•×”×‘ ×œ×”×™×•×ª ×¤×¢×™×œ!' }
                ]
            },
            {
                emoji: 'ğŸ›ï¸',
                title: '×‘×—× ×•×ª',
                subtitle: '×§×•× ×™× ×“×‘×¨×™×',
                conversation: [
                    { speaker: 'other', text: 'Good morning! Can I help you?', hebrew: '×‘×•×§×¨ ×˜×•×‘! ××¤×©×¨ ×œ×¢×–×•×¨?' },
                    { speaker: 'me', text: 'Yes, please. I am looking for a new backpack', hebrew: '×›×Ÿ, ×‘×‘×§×©×”. ×× ×™ ××—×¤×© ×ª×™×§ ×’×‘ ×—×“×©' },
                    { speaker: 'other', text: 'What color would you like?', hebrew: '××™×–×” ×¦×‘×¢ ×ª×¨×¦×”?' },
                    { speaker: 'me', text: 'I would like a blue one, please', hebrew: '×× ×™ ×¨×•×¦×” ××—×“ ×›×—×•×œ, ×‘×‘×§×©×”' },
                    { speaker: 'other', text: 'Here is a nice blue backpack. Do you like it?', hebrew: '×”× ×” ×ª×™×§ ×’×‘ ×›×—×•×œ ×™×¤×”. ××ª×” ××•×”×‘ ××•×ª×•?' },
                    { speaker: 'me', text: 'Yes! How much is it?', hebrew: '×›×Ÿ! ×›××” ×–×” ×¢×•×œ×”?' },
                    { speaker: 'other', text: 'It\'s 150 shekels', hebrew: '×–×” 150 ×©×§×œ×™×' },
                    { speaker: 'me', text: 'I\'ll take it! Thank you!', hebrew: '×× ×™ ××§×— ××•×ª×•! ×ª×•×“×”!' }
                ]
            },
            {
                emoji: 'ğŸŒ',
                title: '×¢×œ ×¢×¦××™',
                subtitle: '××¡×¤×¨×™× ×¢×œ ×¢×¦×× ×•',
                conversation: [
                    { speaker: 'other', text: 'Tell me about yourself!', hebrew: '×¡×¤×¨ ×œ×™ ×¢×œ ×¢×¦××š!' },
                    { speaker: 'me', text: 'My name is Sarah and I am 9 years old', hebrew: '×©××™ ×©×¨×” ×•×× ×™ ×‘×ª 9' },
                    { speaker: 'other', text: 'What do you want to be when you grow up?', hebrew: '××” ××ª ×¨×•×¦×” ×œ×”×™×•×ª ×›×©×ª×’×“×œ×™?' },
                    { speaker: 'me', text: 'I want to be a doctor', hebrew: '×× ×™ ×¨×•×¦×” ×œ×”×™×•×ª ×¨×•×¤××”' },
                    { speaker: 'other', text: 'That\'s wonderful! Why do you want to be a doctor?', hebrew: '×–×” × ×¤×œ×! ×œ××” ××ª ×¨×•×¦×” ×œ×”×™×•×ª ×¨×•×¤××”?' },
                    { speaker: 'me', text: 'Because I want to help people', hebrew: '×›×™ ×× ×™ ×¨×•×¦×” ×œ×¢×–×•×¨ ×œ×× ×©×™×' },
                    { speaker: 'other', text: 'That\'s very kind of you!', hebrew: '×–×” ×××•×“ × ×—××“ ×××š!' },
                    { speaker: 'me', text: 'Thank you! I believe I can do it!', hebrew: '×ª×•×“×”! ×× ×™ ××××™× ×” ×©×× ×™ ×™×›×•×œ×”!' }
                ]
            },
            {
                emoji: 'ğŸ“š',
                title: '×‘×¡×¤×¨×™×™×”',
                subtitle: '××—×¤×©×™× ×¡×¤×¨×™×',
                conversation: [
                    { speaker: 'other', text: 'Hello! Are you looking for a book?', hebrew: '×©×œ×•×! ××ª×” ××—×¤×© ×¡×¤×¨?' },
                    { speaker: 'me', text: 'Yes, I am looking for an adventure book', hebrew: '×›×Ÿ, ×× ×™ ××—×¤×© ×¡×¤×¨ ×”×¨×¤×ª×§××•×ª' },
                    { speaker: 'other', text: 'For what age group?', hebrew: '×œ××™×–×” ×’×™×œ?' },
                    { speaker: 'me', text: 'For 9 year olds', hebrew: '×œ×’×™×œ 9' },
                    { speaker: 'other', text: 'I recommend this one. It\'s very popular!', hebrew: '×× ×™ ×××œ×™×¥ ×¢×œ ×–×”. ×”×•× ×××•×“ ×¤×•×¤×•×œ×¨×™!' },
                    { speaker: 'me', text: 'What is it about?', hebrew: '×¢×œ ××” ×”×•×?' },
                    { speaker: 'other', text: 'It\'s about a boy who travels around the world', hebrew: '×–×” ×¢×œ ×™×œ×“ ×©××˜×™×™×œ ×‘×¨×—×‘×™ ×”×¢×•×œ×' },
                    { speaker: 'me', text: 'Sounds great! I will take it!', hebrew: '× ×©××¢ × ×”×“×¨! ×× ×™ ××§×— ××•×ª×•!' }
                ]
            },
            {
                emoji: 'ğŸ¥',
                title: '××¦×œ ×”×¨×•×¤×',
                subtitle: '×‘×™×§×•×¨ ××¦×œ ×”×¨×•×¤×',
                conversation: [
                    { speaker: 'other', text: 'Good morning! How are you feeling today?', hebrew: '×‘×•×§×¨ ×˜×•×‘! ××™×š ××ª×” ××¨×’×™×© ×”×™×•×?' },
                    { speaker: 'me', text: 'Not so good. I have a headache', hebrew: '×œ× ×›×œ ×›×š ×˜×•×‘. ×™×© ×œ×™ ×›××‘ ×¨××©' },
                    { speaker: 'other', text: 'I\'m sorry to hear that. Do you have a fever?', hebrew: '×× ×™ ××¦×˜×¢×¨ ×œ×©××•×¢. ×™×© ×œ×š ×—×•×?' },
                    { speaker: 'me', text: 'No, I don\'t have a fever', hebrew: '×œ×, ××™×Ÿ ×œ×™ ×—×•×' },
                    { speaker: 'other', text: 'Did you drink enough water today?', hebrew: '×©×ª×™×ª ××¡×¤×™×§ ××™× ×”×™×•×?' },
                    { speaker: 'me', text: 'Maybe not enough', hebrew: '××•×œ×™ ×œ× ××¡×¤×™×§' },
                    { speaker: 'other', text: 'Try to drink more water and rest', hebrew: '× ×¡×” ×œ×©×ª×•×ª ×™×•×ª×¨ ××™× ×•×œ× ×•×—' },
                    { speaker: 'me', text: 'Thank you, doctor! I will do that', hebrew: '×ª×•×“×”, ×“×•×§×˜×•×¨! ×× ×™ ××¢×©×” ××ª ×–×”' }
                ]
            },
            {
                emoji: 'ğŸ¬',
                title: '×¢×œ ×¡×¨×˜',
                subtitle: '××“×‘×¨×™× ×¢×œ ×¡×¨×˜ ×©×¨××™× ×•',
                conversation: [
                    { speaker: 'other', text: 'Did you watch any good movies lately?', hebrew: '×¨××™×ª ×¡×¨×˜×™× ×˜×•×‘×™× ×œ××—×¨×•× ×”?' },
                    { speaker: 'me', text: 'Yes! I watched a great adventure movie', hebrew: '×›×Ÿ! ×¨××™×ª×™ ×¡×¨×˜ ×”×¨×¤×ª×§××•×ª × ×”×“×¨' },
                    { speaker: 'other', text: 'What was it about?', hebrew: '×¢×œ ××” ×”×™×”?' },
                    { speaker: 'me', text: 'It was about a group of kids who find treasure', hebrew: '×–×” ×”×™×” ×¢×œ ×§×‘×•×¦×ª ×™×œ×“×™× ×©××•×¦××™× ××•×¦×¨' },
                    { speaker: 'other', text: 'That sounds exciting! Did you like it?', hebrew: '×–×” × ×©××¢ ××¨×’×©! ××”×‘×ª ××ª ×–×”?' },
                    { speaker: 'me', text: 'Yes! It was amazing! I loved it!', hebrew: '×›×Ÿ! ×–×” ×”×™×” ××“×”×™×! ××”×‘×ª×™ ××ª ×–×”!' },
                    { speaker: 'other', text: 'Would you recommend it to me?', hebrew: '×ª××œ×™×¥ ×œ×™ ×¢×œ ×–×”?' },
                    { speaker: 'me', text: 'Definitely! You should watch it!', hebrew: '×‘×”×—×œ×˜! ××ª×” ×—×™×™×‘ ×œ×¨××•×ª ××ª ×–×”!' }
                ]
            }
        ];

        let currentSituation = null;
        let currentLineIndex = 0;

        // ×™×¦×™×¨×ª ×›×¨×˜×™×¡×™ ×¡×™×˜×•××¦×™×•×ª
        function createSituationCards() {
            const grid = document.getElementById('situationsGrid');
            grid.innerHTML = '';

            situations.forEach((situation, index) => {
                const card = document.createElement('div');
                card.className = 'situation-card';
                card.onclick = () => startConversation(index);
                
                card.innerHTML = `
                    <div class="situation-emoji">${situation.emoji}</div>
                    <div class="situation-title">${situation.title}</div>
                `;
                
                grid.appendChild(card);
            });
        }

        // ×”×ª×—×œ×ª ×©×™×—×”
        function startConversation(index) {
            currentSituation = situations[index];
            currentLineIndex = 0;

            document.getElementById('selectionScreen').style.display = 'none';
            document.getElementById('conversationScreen').classList.add('active');

            document.getElementById('conversationTitle').textContent = 
                currentSituation.emoji + ' ' + currentSituation.title;

            updateChat();
        }

        // ×¢×“×›×•×Ÿ ×ª×¦×•×’×ª ×”×©×™×—×”
        function updateChat() {
            const chatBox = document.getElementById('chatBox');
            chatBox.innerHTML = '';

            // ×”×¦×’×ª ×›×œ ×”×©×•×¨×•×ª ×¢×“ ×¢×›×©×™×•
            for (let i = 0; i <= currentLineIndex; i++) {
                if (i < currentSituation.conversation.length) {
                    const line = currentSituation.conversation[i];
                    const bubble = document.createElement('div');
                    bubble.className = `chat-bubble ${line.speaker}`;
                    bubble.textContent = line.text;
                    chatBox.appendChild(bubble);
                }
            }

            // ×¢×“×›×•×Ÿ ×¤×¡ ×”×ª×§×“××•×ª
            const progress = ((currentLineIndex + 1) / currentSituation.conversation.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            // ×”×©××¢×” ××•×˜×•××˜×™×ª ×©×œ ×”×©×•×¨×” ×”× ×•×›×—×™×ª
            if (currentLineIndex < currentSituation.conversation.length) {
                setTimeout(() => playCurrentLine(), 500);
            }
        }

        // ×”×©××¢×ª ×”×©×•×¨×” ×”× ×•×›×—×™×ª
        function playCurrentLine() {
            if (currentLineIndex >= currentSituation.conversation.length) return;

            const line = currentSituation.conversation[currentLineIndex];
            
            speechSynthesis.cancel();
            
            // ×× ×–×• ×ª×©×•×‘×” ×©×œ ×”×™×œ×“ - × ×•×¡×™×£ "Now you say:"
            let textToSpeak = line.text;
            if (line.speaker === 'me') {
                textToSpeak = 'Now you say: ' + line.text;
            }
            
            const utterance = new SpeechSynthesisUtterance(textToSpeak);
            utterance.lang = 'en-US';
            utterance.rate = 0.75; // ××”×™×¨ ×™×•×ª×¨ ××’×™×œ××™ 6-8
            
            speechSynthesis.speak(utterance);
        }

        // ×©×•×¨×” ×”×‘××”
        function nextLine() {
            currentLineIndex++;

            if (currentLineIndex >= currentSituation.conversation.length) {
                showCompletion();
                return;
            }

            updateChat();
        }

        // ×”×¦×’×ª ××¡×š ×¡×™×•×
        function showCompletion() {
            const chatBox = document.getElementById('chatBox');
            chatBox.innerHTML = `
                <div class="completion-screen">
                    <div class="completion-emoji">ğŸ‰</div>
                    <h2>××¦×•×™×Ÿ!</h2>
                    <p style="font-size: 1.5em; color: #666; margin: 20px 0;">
                        ×¡×™×™××ª ××ª ×”×©×™×—×” "${currentSituation.title}"!
                    </p>
                    <button class="btn-continue" onclick="backToSelection()">
                        ×‘×—×¨/×™ ×©×™×—×” × ×•×¡×¤×ª ğŸ¯
                    </button>
                </div>
            `;

            // ×”×’×™×™×” ×©×œ "Excellent job!"
            setTimeout(() => {
                const utterance = new SpeechSynthesisUtterance('Excellent job! You completed the conversation!');
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }, 500);
        }

        // ×—×–×¨×” ×œ×‘×—×™×¨×ª ×¡×™×˜×•××¦×™×”
        function backToSelection() {
            document.getElementById('selectionScreen').style.display = 'block';
            document.getElementById('conversationScreen').classList.remove('active');
            currentSituation = null;
            currentLineIndex = 0;
        }

        // ××ª×—×•×œ
        createSituationCards();
    </script>
</body>
</html>
